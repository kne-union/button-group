"use strict";(self.webpackChunk_kne_components_button_group=self.webpackChunk_kne_components_button_group||[]).push([[689],{71830:(t,e,n)=>{n.r(e),n.d(e,{ConfirmButton:()=>N,ConfirmLink:()=>T,ConfirmText:()=>S,FetchButton:()=>L,LoadingButton:()=>y,default:()=>He,useLoading:()=>g,withConfirm:()=>A});var r=n(94922),o=n.n(r),a=n(28833),i=n(78678),c=n(58612),l=n(86340),u=n(54159),s=n.n(u),f=n(60213),p=n(16052),v=n(50805);function h(){return h=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h.apply(null,arguments)}function d(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}const m=["onClick","children","loading"],g=t=>{const[e,n]=(0,r.useState)(!1),o=(0,i.A)((function(){return n(!0),Promise.resolve(t&&t(...arguments)).then((()=>{n(!1)}))}));return{isLoading:e,setIsLoading:n,callback:o}},y=t=>{let{onClick:e,children:n,loading:r}=t,i=d(t,m);const{isLoading:c,callback:l}=g(e);return o().createElement(a.Button,h({},i,{loading:r||c,onClick:l}),"function"===typeof n?n(r||c):n)};var _="_zIHFy",b="_R-IrF",C="_F1kMl",j="_Iee0d",O="_aGBVE",k="_0oW1K";const w={message:"\u786e\u5b9a\u8981\u5220\u9664\u5417\uff1f",confirm:"\u786e\u5b9a",delete:"\u5220\u9664",cancel:"\u53d6\u6d88",more:"\u66f4\u591a"},E=["title","message","isDelete","showCancel","cancelText","onCancel","isModal","okText","placement","children","onClick","getContainer","renderModal"],x=["children"],P=["children"],z=["children"],N=(0,f.Fr)("zh-CN",w,"button-group")((t=>{const{formatMessage:e}=(0,f.tz)(),n=Object.assign({},{isDelete:!0},t),{title:l,message:u,isDelete:p,showCancel:v,cancelText:m,onCancel:y,isModal:w,okText:x,placement:P,children:z,onClick:N,getContainer:T,renderModal:S}=n,A=d(n,E),[F,L]=(0,r.useState)(!1),{isLoading:B,callback:W}=g(N),M=(0,i.A)((()=>{L(!0)})),$=o().createElement(a.Flex,{className:C,vertical:!0,gap:8,onClick:t=>{t.stopPropagation()}},l&&o().createElement(a.Flex,{align:"flex-start",gap:8,className:j},p&&o().createElement(c.A,{className:"title-icon"}),l),o().createElement(a.Flex,{align:"flex-start",gap:8,className:s()(O,{[k]:l})},!l&&p?o().createElement(c.A,{className:"title-icon"}):null,u||e({id:"message"}))),I=()=>"function"===typeof z?z(h({},A,{onClick:M})):o().createElement(a.Button,h({},A,{loading:B,onClick:()=>{M()}}),z);if(w){const t={open:F,onCancel:()=>{L(!1),y&&y()},wrapClassName:b,okText:x||e(p?{id:"delete"}:{id:"confirm"}),cancelText:m||e({id:"cancel"}),onOk:t=>(L(!1),W(t)),closable:!1,okButtonProps:{danger:p},getContainer:T,children:$};return o().createElement(o().Fragment,null,"function"===typeof S?S(t):o().createElement(a.Modal,t),I())}return o().createElement(a.Popconfirm,{overlayClassName:s()(_),okButtonProps:{danger:p},title:$,open:F,getPopupContainer:T,onCancel:y,placement:P,showCancel:v,okText:x||e(p?{id:"delete"}:{id:"confirm"}),cancelText:m||e({id:"cancel"}),onOpenChange:L,onConfirm:t=>{W(t)}},I())})),T=t=>{let{children:e}=t,n=d(t,x);return o().createElement(N,n,(t=>o().createElement(a.Typography.Link,t,e)))},S=t=>{let{children:e}=t,n=d(t,P);return o().createElement(N,n,(t=>o().createElement(a.Typography.Text,t,e)))},A=t=>(console.warn("\u540e\u7eed\u7248\u672c\u53ef\u80fd\u5220\u9664\u8be5api\uff0c\u8bf7\u4e0d\u8981\u4f7f\u7528"),e=>{let{children:n}=e,r=d(e,z);return o().createElement(N,r,(e=>o().createElement(t,e,n)))}),F=["api","onClick"],L=t=>{let{api:e,onClick:n}=t,r=d(t,F);const a=(0,p.useFetch)(Object.assign({},e,{auto:!1})),{isLoading:i,refresh:c}=a;return o().createElement(y,h({},r,{loading:i,onClick:async()=>{const{output:t,errorStack:e}=await c({});Object.values(e).length>0||n&&n({data:t})}}))};var B=Array.isArray,W="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},M="object"==typeof W&&W&&W.Object===Object&&W,$="object"==typeof self&&self&&self.Object===Object&&self,I=M||$||Function("return this")(),D=I.Symbol,R=Object.prototype,G=R.hasOwnProperty,V=R.toString,q=D?D.toStringTag:void 0;var H=function(t){var e=G.call(t,q),n=t[q];try{t[q]=void 0;var r=!0}catch(a){}var o=V.call(t);return r&&(e?t[q]=n:delete t[q]),o},K=Object.prototype.toString;var U=function(t){return K.call(t)},X=D?D.toStringTag:void 0;var J=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":X&&X in Object(t)?H(t):U(t)};var Q=function(t){return null!=t&&"object"==typeof t};var Y=function(t){return"symbol"==typeof t||Q(t)&&"[object Symbol]"==J(t)},Z=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,tt=/^\w*$/;var et=function(t,e){if(B(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Y(t))||(tt.test(t)||!Z.test(t)||null!=e&&t in Object(e))};var nt=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)};var rt=function(t){if(!nt(t))return!1;var e=J(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},ot=I["__core-js_shared__"],at=function(){var t=/[^.]+$/.exec(ot&&ot.keys&&ot.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();var it=function(t){return!!at&&at in t},ct=Function.prototype.toString;var lt=function(t){if(null!=t){try{return ct.call(t)}catch(e){}try{return t+""}catch(e){}}return""},ut=/^\[object .+?Constructor\]$/,st=Function.prototype,ft=Object.prototype,pt=st.toString,vt=ft.hasOwnProperty,ht=RegExp("^"+pt.call(vt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var dt=function(t){return!(!nt(t)||it(t))&&(rt(t)?ht:ut).test(lt(t))};var mt=function(t,e){return null==t?void 0:t[e]};var gt=function(t,e){var n=mt(t,e);return dt(n)?n:void 0},yt=gt(Object,"create");var _t=function(){this.__data__=yt?yt(null):{},this.size=0};var bt=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Ct=Object.prototype.hasOwnProperty;var jt=function(t){var e=this.__data__;if(yt){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return Ct.call(e,t)?e[t]:void 0},Ot=Object.prototype.hasOwnProperty;var kt=function(t){var e=this.__data__;return yt?void 0!==e[t]:Ot.call(e,t)};var wt=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=yt&&void 0===e?"__lodash_hash_undefined__":e,this};function Et(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Et.prototype.clear=_t,Et.prototype.delete=bt,Et.prototype.get=jt,Et.prototype.has=kt,Et.prototype.set=wt;var xt=Et;var Pt=function(){this.__data__=[],this.size=0};var zt=function(t,e){return t===e||t!==t&&e!==e};var Nt=function(t,e){for(var n=t.length;n--;)if(zt(t[n][0],e))return n;return-1},Tt=Array.prototype.splice;var St=function(t){var e=this.__data__,n=Nt(e,t);return!(n<0)&&(n==e.length-1?e.pop():Tt.call(e,n,1),--this.size,!0)};var At=function(t){var e=this.__data__,n=Nt(e,t);return n<0?void 0:e[n][1]};var Ft=function(t){return Nt(this.__data__,t)>-1};var Lt=function(t,e){var n=this.__data__,r=Nt(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function Bt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Bt.prototype.clear=Pt,Bt.prototype.delete=St,Bt.prototype.get=At,Bt.prototype.has=Ft,Bt.prototype.set=Lt;var Wt=Bt,Mt=gt(I,"Map");var $t=function(){this.size=0,this.__data__={hash:new xt,map:new(Mt||Wt),string:new xt}};var It=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var Dt=function(t,e){var n=t.__data__;return It(e)?n["string"==typeof e?"string":"hash"]:n.map};var Rt=function(t){var e=Dt(this,t).delete(t);return this.size-=e?1:0,e};var Gt=function(t){return Dt(this,t).get(t)};var Vt=function(t){return Dt(this,t).has(t)};var qt=function(t,e){var n=Dt(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function Ht(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ht.prototype.clear=$t,Ht.prototype.delete=Rt,Ht.prototype.get=Gt,Ht.prototype.has=Vt,Ht.prototype.set=qt;var Kt=Ht;function Ut(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],a=n.cache;if(a.has(o))return a.get(o);var i=t.apply(this,r);return n.cache=a.set(o,i)||a,i};return n.cache=new(Ut.Cache||Kt),n}Ut.Cache=Kt;var Xt=Ut;var Jt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Qt=/\\(\\)?/g,Yt=function(t){var e=Xt(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Jt,(function(t,n,r,o){e.push(r?o.replace(Qt,"$1"):n||t)})),e}));var Zt=function(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o},te=D?D.prototype:void 0,ee=te?te.toString:void 0;var ne=function t(e){if("string"==typeof e)return e;if(B(e))return Zt(e,t)+"";if(Y(e))return ee?ee.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n};var re=function(t){return null==t?"":ne(t)};var oe=function(t,e){return B(t)?t:et(t,e)?[t]:Yt(re(t))};var ae=function(t){if("string"==typeof t||Y(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e};var ie=function(t,e){for(var n=0,r=(e=oe(e,t)).length;null!=t&&n<r;)t=t[ae(e[n++])];return n&&n==r?t:void 0},ce=function(){try{var t=gt(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();var le=function(t,e,n){"__proto__"==e&&ce?ce(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},ue=Object.prototype.hasOwnProperty;var se=function(t,e,n){var r=t[e];ue.call(t,e)&&zt(r,n)&&(void 0!==n||e in t)||le(t,e,n)},fe=/^(?:0|[1-9]\d*)$/;var pe=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&fe.test(t))&&t>-1&&t%1==0&&t<e};var ve=function(t,e,n,r){if(!nt(t))return t;for(var o=-1,a=(e=oe(e,t)).length,i=a-1,c=t;null!=c&&++o<a;){var l=ae(e[o]),u=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return t;if(o!=i){var s=c[l];void 0===(u=r?r(s,l,c):void 0)&&(u=nt(s)?s:pe(e[o+1])?[]:{})}se(c,l,u),c=c[l]}return t};var he=function(t,e,n){for(var r=-1,o=e.length,a={};++r<o;){var i=e[r],c=ie(t,i);n(c,i)&&ve(a,oe(i,t),c)}return a};var de=function(t,e){return null!=t&&e in Object(t)};var me=function(t){return Q(t)&&"[object Arguments]"==J(t)},ge=Object.prototype,ye=ge.hasOwnProperty,_e=ge.propertyIsEnumerable,be=me(function(){return arguments}())?me:function(t){return Q(t)&&ye.call(t,"callee")&&!_e.call(t,"callee")};var Ce=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991};var je=function(t,e,n){for(var r=-1,o=(e=oe(e,t)).length,a=!1;++r<o;){var i=ae(e[r]);if(!(a=null!=t&&n(t,i)))break;t=t[i]}return a||++r!=o?a:!!(o=null==t?0:t.length)&&Ce(o)&&pe(i,o)&&(B(t)||be(t))};var Oe=function(t,e){return null!=t&&je(t,e,de)};var ke=function(t,e){return he(t,e,(function(e,n){return Oe(t,n)}))};var we=function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t},Ee=D?D.isConcatSpreadable:void 0;var xe=function(t){return B(t)||be(t)||!!(Ee&&t&&t[Ee])};var Pe=function t(e,n,r,o,a){var i=-1,c=e.length;for(r||(r=xe),a||(a=[]);++i<c;){var l=e[i];n>0&&r(l)?n>1?t(l,n-1,r,o,a):we(a,l):o||(a[a.length]=l)}return a};var ze=function(t){return(null==t?0:t.length)?Pe(t,1):[]};var Ne=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)},Te=Math.max;var Se=function(t,e,n){return e=Te(void 0===e?t.length-1:e,0),function(){for(var r=arguments,o=-1,a=Te(r.length-e,0),i=Array(a);++o<a;)i[o]=r[e+o];o=-1;for(var c=Array(e+1);++o<e;)c[o]=r[o];return c[e]=n(i),Ne(t,this,c)}};var Ae=function(t){return function(){return t}};var Fe=ce?function(t,e){return ce(t,"toString",{configurable:!0,enumerable:!1,value:Ae(e),writable:!0})}:function(t){return t},Le=Date.now;var Be=function(t){var e=0,n=0;return function(){var r=Le(),o=16-(r-n);if(n=r,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(Fe);var We=function(t){return Be(Se(t,void 0,ze),t+"")}((function(t,e){return null==t?{}:ke(t,e)}));const Me=Xt((t=>{let{amountWidth:e,moreBtnWidth:n,buttonWidthList:r,spaceProps:o,compact:a}=t;const i=a?0:["small","middle","large"].indexOf(o.size)>-1?8*(["small","middle","large"].indexOf(o.size)+1):Number.isInteger(o.size)?o.size:8;let c=0,l=0;for(;e>=l+r[c]+c*i&&c<r.length;)l+=r[c],c+=1;for(;e<l+(c-1)*i+(c<r.length?n+i:0)&&c>0;)l-=r[c-1],c-=1;return c}),(t=>{let{amountWidth:e,moreBtnWidth:n,buttonWidthList:r,spaceProps:o,compact:a}=t;return"".concat(e).concat(n).concat(r.join(",")).concat(Object.values(o).join(",")).concat(a&&a.toString())}));var $e="_V58ju",Ie="_XN3o6",De="_-depB",Re="_juFTd",Ge="_x6dp-";const Ve=["list","more","compact","showLength"],qe=["className","confirm","buttonComponent","tooltipProps"],He=(0,f.Fr)("zh-CN",w,"button-group")((t=>{const{formatMessage:e}=(0,f.tz)(),n=Object.assign({},{more:o().createElement(a.Button,null,e({id:"more"}),o().createElement(l.A,null))},t),{list:c,more:u,compact:p,showLength:m}=n,g=d(n,Ve),_=We(g,["size","split","align","style"]),[b,C]=(0,r.useState)(c.length&&1),j=Number.isInteger(m)?m:b,O=(0,i.A)((()=>{const t=w.current,e=E.current,n=k.current;if(!t)return;const o=t.querySelectorAll(".button-group-item");if(!o)return;if(0===o.length)return;const a=n.clientWidth,i=e.clientWidth,c=[].map.call(o,(t=>t.offsetWidth)),l=Me({amountWidth:a,moreBtnWidth:i,buttonWidthList:c,spaceProps:_,compact:p});(0,r.startTransition)((()=>{C(l)}))})),k=(0,v.A)(O),w=(0,v.A)(O),E=(0,v.A)(O),x=c.slice(j),P=(t,e,n)=>{if("function"===typeof t)return t({key:e,className:s()("button-group-item",Ge),isDropdown:n});const{className:r,confirm:i,buttonComponent:c,tooltipProps:l}=t,u=d(t,qe),f=i||u.message,p=c||(f?N:y),v=o().createElement(p,h({danger:f&&!1!==u.isDelete},Object.assign({},u,f&&(u.isModal||n)?{isModal:!0}:{}),{key:e,className:s()("button-group-item",Ge,r)}));return l?o().createElement(a.Tooltip,l,v):v},z=p?a.Space.Compact:a.Space;return o().createElement(o().Fragment,null,o().createElement("div",{className:$e,ref:k}),o().createElement("div",{className:Ie},o().createElement("div",{className:De,ref:E},u),o().createElement("div",{className:De,ref:w},o().createElement(z,_,c.map(P)))),o().createElement(z,_,c.slice(0,j).map(((t,e)=>P(t,e,!1))),x.length>0&&o().createElement(a.Dropdown,{overlayClassName:Re,menu:{items:x.map(((t,e)=>({key:e,label:P(t,e,!0)})))}},u)))}))}}]);
//# sourceMappingURL=689.b46b7046.chunk.js.map